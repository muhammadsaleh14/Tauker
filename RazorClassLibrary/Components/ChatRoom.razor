@page "/chatroom"

<h3>Chat Room</h3>

<div>
    <h4>Participants</h4>
    <ul>
        @foreach (var user in participants)
        {
            <li>@user.Name</li>
        }
    </ul>
</div>

<div>
    <h4>Audio Controls</h4>
    <button @onclick="JoinRoom">Join Room</button>
    <button @onclick="LeaveRoom">Leave Room</button>
</div>

<div>
    <h4>Chat</h4>
    <ul>
        @foreach (var message in messages)
        {
            <li>@message.User: @message.Text</li>
        }
    </ul>
    <input @bind="newMessage" placeholder="Type a message..." />
    <button @onclick="SendMessage">Send</button>
</div>

@code {
    private List<User> participants = new();
    private List<Message> messages = new();
    private string newMessage;

    private void JoinRoom()
    {
        // Logic to join the audio chat room
    }

    private void LeaveRoom()
    {
        // Logic to leave the audio chat room
    }

    private void SendMessage()
    {
        if (!string.IsNullOrEmpty(newMessage))
        {
            messages.Add(new Message { User = "Me", Text = newMessage });
            newMessage = string.Empty;
        }
    }

    public class User
    {
        public string Name { get; set; }
    }

    public class Message
    {
        public string User { get; set; }
        public string Text { get; set; }
    }
}
